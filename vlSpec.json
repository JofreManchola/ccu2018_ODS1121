{
    "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
    "data": {
      "url": "https://raw.githubusercontent.com/JofreManchola/ccu2018_ODS1121/master/visor/widgets/Paraderos/distribucionupz.json",
      "format": {
        "type": "json"
      }
    },
    "title": "DistribuciÃ³n pasajeros por UPZ",
    "hconcat": [
      {
        "title": "Votantes por departamento",
        "layer": [
          {
            "mark": "bar",
            "encoding": {
              "x": {
                "aggregate": "sum",
                "type": "quantitative",
                "field": "total_votantes",
                "axis": {"title": "Cantidad total de votantes"}
              },
              "color": {
                "condition": {"selection": "deptosi", "value": "red"},
                "value": "pink"
              },
              "opacity": {"value": 0.8}
            },
            "selection": {
              "deptosi": {
                "type": "interval",
                "empty": "none",
                "encodings": ["y"],
                "on": "[mousedown, window:mouseup] > window:mousemove!",
                "translate": "[mousedown, window:mouseup] > window:mousemove!",
                "zoom": "wheel!",
                "mark": {"fill": "#333", "fillOpacity": 0.125, "stroke": "white"},
                "resolve": "global"
              }
            }
          },
          {
            "mark": "bar",
            "encoding": {
              "x": {
                "aggregate": "sum",
                "type": "quantitative",
                "field": "votantes",
                "axis": {"title": "Cantidad de votantes"}
              },
              "color": {"value": "blue"},
              "opacity": {"value": 1}
            }
          }
        ],
        "encoding": {
          "y": {
            "field": "departamento",
            "type": "nominal",
            "sort": {"op": "sum", "field": "votantes", "order": "descending"},
            "axis": {"title": "Departamentos de Colombia"}
          }
        }
      }
    ],
    "config": {}
  }